// Potential library score today


int calculateLibraryScore(Library lib, int daysLeft) {
    int scanDays = daysLeft - lib.registerDays;
    if (scanDays <= 0) return 0;
    int scanBooks = scanDays * lib.booksPerDay;
    scanBooks = min(scanBooks, lib.books.length() );
    int score = 0;
    for (int i = 0; i < scanBooks; i++) {
        bookIndex = lib.books[i];
        score += allBooks[bookIndex];
    }
    return score;
}

int recalculateLibrariesScore_and_getBest(Library[] libs, int daysLeft) {
    int bestScore = -1;
    int bestLibrary = -1;
    for (int i = 0; i < libs.length(); i++) {
        if (libs[i].score > bestScore){
            libs[i].score = calculateLibraryScore(libs[i], daysLeft);
            if (libs[i].score > bestScore) {
                bestScore = libs[i].score;
                bestLibrary = i;
            }
        }
    }
    return bestLibrary;
}